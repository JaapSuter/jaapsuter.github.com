'use strict';var n=void 0,r=!0,u=null,w=!1;
(function(c){var e,h=[].slice;e={i:function(){function g(g){this.K=g;this.count=1;this.U=u}g.prototype.h=function(){if(!--this.count)return this.K(this.U)};g.prototype.defer=function(g){var c=this;++this.count;return function(){var b,f;b=1<=arguments.length?h.call(arguments,0):[];g!=u&&(f=g.j)!=u&&f.apply(u,b);return c.h()}};return g}(),ea:function(){return u}};c.z=e;c.a={q:{},k:{},font:{},keys:{},r:{}}}).call(n,window,function(){window.G==u&&(window.G={});return window.G}());
(function(c,e){var h,g;c.z!=u||(c.z={});g=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];h=function(){var c,h,b,f;h=w;b=0;for(f=g.length;b<f;b++){c=g[b];try{h=c()}catch(i){continue}return h}};e.send=function(g,c,b){var f;if(f=h()){if(f.open(b?"PUT":"GET",g,r),b&&f.setRequestHeader("Content-type","application/x-www-form-urlencoded"),f.onreadystatechange=
function(){if(4===f.readyState)return 200===f.status||304===f.status?c(r,f.responseText):c(w)},4!==f.readyState)return f.send(b)}else return c(w)}}).call(n,window,function(){var c;window.a==u&&(window.a={});if((c=window.a).r==u)c.r={};return window.a.r}());
(function(c,e){function h(b,d){return function(){return b.apply(d,arguments)}}var g,o,q,b,f,i,l,s,j,d,k,m=[].indexOf||function(b){for(var d=0,v=this.length;d<v;d++)if(d in this&&this[d]===b)return d;return-1};d=function(){};l=c.z;k=c.a;s=k.q;o=k.r;q=k.k;b=["georgia","arial","verdana"];f=function(d){if(0<=m.call(b,d))return"normal";switch(d[2]){case "i":return"italic";case "o":return"oblique";default:return"normal"}};i=function(d){return 0<=m.call(b,d)?400:100*d[3]};g=function(){function b(d){this.o=
d.o;this.t=d.t;this.m=h(this.m,this);this.F=3;this.T=this.o/2;this.e=document.createElement("canvas");this.g=document.createElement("canvas");this.c=this.e.getContext("2d");this.f=this.g.getContext("2d");this.c.textBaseline=this.f.textBaseline="alphabetic";this.c.textAlign=this.f.textAlign="left";this.c.fillStyle=this.f.fillStyle="#000";d=q.create("div",'<img style="vertical-align: baseline" width="1" height="1" alt="" src="/img/1x1-black.png">bHxp');this.d=d[0];this.R=d[1][0];this.d.style.whiteSpace=
"nowrap";this.d.style.position="absolute";this.d.style.lineHeight=this.F;document.body.insertBefore(this.d,document.body.firstChild);this.e.style.backgroundColor="#fee";this.g.style.backgroundColor="#eef";document.body.insertBefore(this.g,document.body.children[0]);document.body.insertBefore(this.e,this.g)}var d;b.X="Easel";b.prototype.L=function(b,d){this.c.clearRect(0,0,this.fontSize,this.b);this.f.clearRect(0,0,this.fontSize,this.b);d&&(this.c.save(),this.c.translate(0,this.b),this.c.scale(1,-1),
this.c.translate(0,-this.b));this.c.fillText(b,0,this.b);d&&this.c.restore()};d=function(b){return 1<<Math.floor(Math.log(b-1)/Math.log(2))};b.prototype.Q=function(){var b,f;this.f.drawImage(this.e,0,0);f=d(this.fontSize);for(b=this.fontSize-f;f;)this.f.drawImage(this.e,f,0,b,this.b,0,0,b,this.b),b=[this.f,this.c],this.c=b[0],this.f=b[1],b=[this.g,this.e],this.e=b[0],this.g=b[1],b=f>>=1};b.prototype.N=function(){var b,d;b=this.c.getImageData(0,0,1,this.b).data;b[b.length-4+3]=255;for(d=3;0===b[d];)d+=
4;return(d-3)/4};b.prototype.s=function(b,d){d==u&&(d=w);this.L(b,d);this.Q();return this.N()};b.prototype.O=function(){this.fontSize<this.o||this.b<this.T?this.A=this.B=this.D=this.C=0:(this.A=this.b-this.s("b"),this.D=this.b-this.s("x"),this.B=this.b-this.s("H"),this.C=this.b-this.s("p",r))};b.prototype.P=function(b,d,p,l){this.fontSize=b;this.d.style.fontSize=""+this.fontSize+"px";b=(this.F*this.fontSize-this.fontSize)/2;this.e.width=this.g.width=this.fontSize;this.b=this.R.offsetTop+1-b;this.e.height=
this.g.height=this.b;this.c.font=this.f.font=""+i(d)+" "+f(d)+" "+this.fontSize+"px "+d;this.O();p.baseline[this.fontSize]=this.b;p.ascent[this.fontSize]=this.A;p.cap[this.fontSize]=this.B;p.ex[this.fontSize]=this.D;p.descent[this.fontSize]=this.C;s.I(l)};b.prototype.M=function(b,d){var p,k,c,g=this;this.d.style.fontFamily=b;this.d.style.fontStyle=f(b);this.d.style.fontWeight=i(b);p={baseline:[],ex:[],cap:[],ascent:[],descent:[]};(function(d){var f,i;k=0;f=[];i=function(d){var h,j,m;h=function(){return d(f)};
j=function(){++k;return i(d)};m=function(b){f.push(b);return j()};if(k<=g.t)c=new l.i(m,{parent:u,filename:"B:/Projects/Web/jaapsuter.github.com/dev/_coffee/jaap/font.coffee",l:"Easel.getFamilyMetrics"}),g.P(k,b,p,c.defer({n:143})),c.h();else return h()};i(d)})(function(){return d(r,p)})};b.prototype.m=function(b,d){var f,p,k,i,c,g,h=this;i={minFontSize:this.o,maxFontSize:this.t,families:b};(function(d){var k,i,h,m;i=b.length;k=0;h=[];m=function(d){var x,s,e;x=function(){return d(h)};s=function(){++k;
return m(d)};e=function(b){h.push(b);return s()};if(k<i)p=b[k],function(b){g=new l.i(b,{parent:u,filename:"B:/Projects/Web/jaapsuter.github.com/dev/_coffee/jaap/font.coffee",l:"Easel.getMetrics"});j(p,g.defer({j:function(){return function(b,d){c=b;return f=d}}(),n:155}));g.h()}(e);else return x()};m(d)})(function(){(function(d){if(c)(function(d){var m,x,s,e;x=b.length;m=0;s=[];e=function(d){var o,y,q;o=function(){return d(s)};y=function(){++m;return e(d)};q=function(b){s.push(b);return y()};if(m<
x)p=b[m],function(b){g=new l.i(b,{parent:u,filename:"B:/Projects/Web/jaapsuter.github.com/dev/_coffee/jaap/font.coffee",l:"Easel.getMetrics"});j(p,g.defer({j:function(){return function(b,d){c=b;return f=d}}(),n:159}));g.h()}(function(){(function(b){if(c)(function(b){g=new l.i(b,{parent:u,filename:"B:/Projects/Web/jaapsuter.github.com/dev/_coffee/jaap/font.coffee",l:"Easel.getMetrics"});h.M(f,g.defer({j:function(){return function(b,d){c=b;return k=d}}(),n:161}));g.h()})(function(){return b(i[f]=c?
k:"error obtaining metrics")});else return b()})(q)});else return o()};e(d)})(function(){return d(h.d.parentNode.removeChild(h.d))});else return d()})(function(){return d(c,i)})})};return b}();e.qa=j=function(b,d){var k,g,c,l,h,m,j,e;e=q.create("div","<span>b H x p</span><br><span>b H x p</span>");c=e[0];e=e[1];l=e[0];h=e[2];c.style.cssText="visibility: visible;\nposition: absolute;\ntop: 0;\nleft: 0;\nfont-family: serif;\nfont-size: 137px;\nfont-style: "+f(b)+";\nfont-weight: "+i(b)+";\nline-height: 1;\nwhite-space: nowrap;";
h.style.fontFamily=""+b+", serif";document.body.insertBefore(c,document.body.firstChild);k=75;m=2;g=function(b,f){c.parentNode.removeChild(c);return d(b,f)};j=function(){return l.offsetWidth!==h.offsetWidth?0===m--?g(r,b):s.I(j):0===k--?g(w,b):s.w(40,j)};return j()};e.m=function(f){var k,c,i,h,m,j,e,f="tan2n,tan4c,tan4n,tan7n,tao4n,tmn4n,tsi4n,tsi4n-smcp,tsi4n-tnum-lnum,tsi7n,tsn4n,tsn4n-smcp,tsn4n-tnum-lnum,tsn7n,pan2n,pan4n,pan4n-smcp,pan7n,pan7n-smcp,psi4n,psi7n,psn4n,psn7n".split(","),f=b.concat(f),
f=function(){var b,d,k;k=[];b=0;for(d=f.length;b<d;b++)i=f[b],0>i.indexOf("inv")&&k.push(i);return k}();c=new g({o:8,t:213});(function(b){e=new l.i(b,{parent:u,filename:"B:/Projects/Web/jaapsuter.github.com/dev/_coffee/jaap/font.coffee",l:"getMetrics"});c.m(f,e.defer({j:function(){return function(b,d){m=b;return h=d}}(),n:244}));e.h()})(function(){if(m)k=JSON.stringify({payload:h,browser:"unknown"},u,4),function(b){e=new l.i(b,{parent:u,filename:"B:/Projects/Web/jaapsuter.github.com/dev/_coffee/jaap/font.coffee",
l:"getMetrics"});o.send("/ajax/json/type-metrics",e.defer({j:function(){return function(b,d){m=b;return j=d}}(),n:247}),k);e.h()}(function(){return d(alert("ok: "+m+", resp: "+j))});else return d()})}}).call(n,window,function(){var c;window.a==u&&(window.a={});if((c=window.a).font==u)c.font={};return window.a.font}());
(function(c,e){e.time=function(c){var g;g=new Date;c();return new Date-g};e.fa=function(c){return c===+c||"[object Number]"===Object.prototype.toString.call(c)};e.S=function(c){return"undefined"===typeof c};e.w=function(c,g){var e;e=this.J(arguments,2);return setTimeout(function(){return g.apply(g,e)},c)};e.I=function(c){return this.w.apply(this,[1,c].concat(this.J(arguments)))};e.J=function(c,g){return Array.prototype.slice.call(c,this.S(g)?1:g)}}).call(n,window,function(){var c;window.a==u&&(window.a=
{});if((c=window.a).q==u)c.q={};return window.a.q}());
(function(c,e){var h,g,o,q,b,f,i,l,s={}.hasOwnProperty,j=[].indexOf||function(b){for(var f=0,c=this.length;f<c;f++)if(f in this&&this[f]===b)return f;return-1};g=function(d,c){var g,i,l,e,j,d=d.replace(/\s/g,"");i=d.split(",");""===i[i.length-1]&&(i[i.length-2]+=",");g=0;for(j=[];g<i.length;){e=[];d=i[g].split("+");if(1<d.length){e=d.slice(0,d.length-1);for(l=0;l<e.length;)e[l]=b[e[l]],l++;d=[d[d.length-1]]}d=d[0];d=q[d]||d.toUpperCase().charCodeAt(0);d in f||(f[d]=[]);f[d].push({ka:i[g],method:c,
key:i[g],u:e});j.push(g++)}return j};g.filter=function(b){b=(b.target||b.srcElement).tagName;return!("INPUT"===b||"SELECT"===b||"TEXTAREA"===b)};h=function(b,f,c){b.addEventListener?b.addEventListener(f,c,w):b.attachEvent&&b.attachEvent("on"+f,function(){return c(window.event)})};f={};l={16:w,18:w,17:w,91:w};b={shift:16,alt:18,ha:18,$:17,Z:91};for(o=i=1;20>i;o=++i)b["f"+o]=111+o;q={Y:8,ma:9,clear:12,ca:13,"return":13,da:27,escape:27,la:32,left:37,oa:38,right:39,ba:40,aa:46,"delete":46,home:36,end:35,
ja:33,ia:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220};for(o in b)s.call(b,o)&&(g[o]=w);h(document,"keydown",function(d){var c,i,e,h,o,q,t;h=d.keyCode;if(93===h||224===h)h=91;if(h in l)for(e in l[h]=r,b)b[e]===h&&(g[e]=r);else if(g.filter.call(this,d)&&h in f){i=0;for(t=[];i<f[h].length;){c=f[h][i];o=0<c.u.length;for(e in l)if(s.call(l,e)&&(!l[e]&&0<=j.call(c.u,+e)||l[e]&&(q=!+e,0<=j.call(c.u,q))))o=w;if((0===c.u.length&&!l[16]&&!l[18]&&!l[17]&&!l[91]||
o)&&c.method(d,c)===w)d.preventDefault?d.preventDefault():d.returnValue=w,d.stopPropagation&&d.stopPropagation(),d.cancelBubble&&(d.cancelBubble=r);t.push(i++)}return t}});h(document,"keyup",function(d){var f,d=d.keyCode;if(93===d||224===d)d=91;if(d in l)for(f in l[d]=w,b)b[f]===d&&(g[f]=w)});h(window,"focus",function(){for(var d in l)l[d]=w;for(d in b)g[d]=w});e.v=g}).call(n,window,function(){var c;window.a==u&&(window.a={});if((c=window.a).keys==u)c.keys={};return window.a.keys}());
(function(c,e){var h,g,o={}.hasOwnProperty,q=[].slice;e.create=function(b,f){var c;c=document.createElement(b);c.innerHTML=f;return[c,c.children]};e.V=function(){var b=document.body;return 0<=b.className.indexOf("baseline")?b.className=b.className.replace(/(?:^|\s)baseline(?!\S)/,""):b.className+=" baseline"};e.W=function(){var b,f,c,g,e,j,d,k,m,p,q,v,y,t,z;if(d=document.documentElement.matchesSelector||document.documentElement.webkitMatchesSelector||document.documentElement.mozMatchesSelector||document.documentElement.ga||
document.documentElement.msMatchesSelector){q={};b=h.apply(u,document.styleSheets);z=document.querySelectorAll("*");v=0;for(y=z.length;v<y;v++){c=z[v];p=c.nodeName.toLowerCase();t=b.p;for(k in t)if(o.call(t,k))for(m in g=t[k],j={},g)o.call(g,m)&&(f=g[m],d.call(c,m)&&(e=b.H[m],f=""+m+" { "+k+": "+f+"; }",j[e]?console.log("Error, element "+p+" declares property "+k+" more than once at same specificity:\n  Before: "+j[e]+"\n  Now:    "+f):j[e]=f));g=c.nodeName.toLowerCase();q[g]==u&&(q[g]={});p=0;for(t=
j.length;p<t;p++)e=j[p],q[g][e]="";2<j.length&&console.log(""+c+":\n   "+j.join("\n"))}}};h=function(){var b,c,e,h,o,j,d,k,m,p,x,v,y,t,z,A;o=1<=arguments.length?q.call(arguments,0):[];b={p:{},H:{},pa:{}};k=0;for(x=o.length;k<x;k++){h=o[k];A=h.cssRules;m=0;for(v=A.length;m<v;m++)if(c=A[m],1===c.type){h=c.selectorText.split(",");j=0;for(d=h.length;j<d;j++)e=h[j],b.H[e]=g(e);j=c.style;p=0;for(y=j.length;p<y;p++){c=j[p];d=j.getPropertyValue(c);if((e=b.p)[c]==u)e[c]={};z=0;for(t=h.length;z<t;z++)e=h[z],
b.p[c][e]&&puts("Oddity: "+b.p[c][e]),b.p[c][e]=d}}}return b};g=function(b){for(var c,e,g,h,b=b.replace("*",""),b=b.replace(/"[^"]*"/g,""),b=b.replace(/'[^"]*'/g,""),b=b.replace(/\[[^\]]*\]/g,"[]"),b=b.replace(/[>+~]/g," ");0<=b.indexOf("(");)b=b.replace(/\([^\)]*?\)/,"");b=b.replace(/:(first-child|last-child|link|visited|hover|active|focus|lang)/g,".pseudo-class");b=b.replace(/::?[\w-]+/g," pseudo-elem");e=((c=b.match(/#[\w-]+/g))!=u?c.length:n)||0;c=((g=b.match(/\.[\w-]+|\[\]/g))!=u?g.length:n)||
0;b=((h=b.match(/(^|\s)[\w_-]+/g))!=u?h.length:n)||0;return 1E6*e+1E3*c+b};window.na=function(){var b;b=function(b,c){if(c!==g(b))debugger};b("*",0);b("li",1);b("li:first-line",2);b("ul li",2);b("ul ol+li",3);b("h1 + *[rel=up]",1001);b("ul ol li.red",1003);b("li.red.level",2001);b("body::before",2);b("div p",2);b(".sith",1E3);b("div p.sith",1002);b("##sith",1E6);b("body ##darkside .sith p",1001002);b("p:has( a[href] )",2);return b("body##top:lang(fr-ca) div.alert",1002002)}}).call(n,window,function(){var c;
window.a==u&&(window.a={});if((c=window.a).k==u)c.k={};return window.a.k}());
(function(c){var e,h,g,o,q,b,c=c.a;b=c.q;h=c.k;o=c.keys;g=c.font;q=function(){return h.V()};e=function(){var b,c,e;b=document.body;e=parseFloat(window.getComputedStyle(b).lineHeight);c=function(b){var c,d,f;f={fontSize:"0",lineHeight:"0"};(c=document.querySelector(b))&&(f=window.getComputedStyle(c));d=parseFloat(f.fontSize);f=parseFloat(f.lineHeight);c=c.getBoundingClientRect().height;return""+d+"/"+f+("html"===b||"body"===b?"":" "+c+" / "+e+" = "+c/e)+": "+b+"<br/>"};return document.querySelector("#dimensions").innerHTML=
""+c("html")+"\n"+c("body")+"\n"+c("p")+"\n"+c("h1")+"\n"+c("h2")+"\n"+c("h3")+"\n"+c(".small")+"\nviewport: "+window.innerWidth+"\u00d7"+window.innerHeight+", "+window.orientation+"<br/>\nbody:     "+b.offsetWidth+"\u00d7"+b.offsetWidth};(function(){var c;if(top===window)return o.v("b",q),o.v("shift+t",g.m),o.v("shift+d",e),o.v("shift+c",h.W),c=function(){e();return b.w(300,c)}})()}).call(n,window,function(){window.a==u&&(window.a={});return window.a}());
