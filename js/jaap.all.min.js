C:\Users\Jaap\AppData\Local\Temp\closure_compiler20120218-2264-1c3koz6:5: WARNING - Suspicious code. This code lacks side-effects. Is there a bug?
  undefined;
  ^

C:\Users\Jaap\AppData\Local\Temp\closure_compiler20120218-2264-1c3koz6:352: WARNING - dangerous use of the global this object
  this.whenFontLoaded = function(family, cont) {
  ^

C:\Users\Jaap\AppData\Local\Temp\closure_compiler20120218-2264-1c3koz6:384: WARNING - dangerous use of the global this object
  this.getMetrics = function(families) {
  ^

C:\Users\Jaap\AppData\Local\Temp\closure_compiler20120218-2264-1c3koz6:462: WARNING - dangerous use of the global this object
  this.send = function(url, cb, postData) {
  ^

C:\Users\Jaap\AppData\Local\Temp\closure_compiler20120218-2264-1c3koz6:597: WARNING - dangerous use of the global this object
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor; child.__super__ = parent.prototype; return child; };
                                                                                                                                                   ^

C:\Users\Jaap\AppData\Local\Temp\closure_compiler20120218-2264-1c3koz6:623: WARNING - dangerous use of the global this object
  this.time = function(fun) {
  ^

C:\Users\Jaap\AppData\Local\Temp\closure_compiler20120218-2264-1c3koz6:630: WARNING - dangerous use of the global this object
  this.isNumber = function(obj) {
  ^

C:\Users\Jaap\AppData\Local\Temp\closure_compiler20120218-2264-1c3koz6:634: WARNING - dangerous use of the global this object
  this.isUndefined = function(obj) {
  ^

C:\Users\Jaap\AppData\Local\Temp\closure_compiler20120218-2264-1c3koz6:638: WARNING - dangerous use of the global this object
  this.onKeyUp = function(key, fun) {
  ^

C:\Users\Jaap\AppData\Local\Temp\closure_compiler20120218-2264-1c3koz6:647: WARNING - dangerous use of the global this object
  this.createElement = function(tag, innerHTML) {
  ^

C:\Users\Jaap\AppData\Local\Temp\closure_compiler20120218-2264-1c3koz6:654: WARNING - dangerous use of the global this object
  this.delay = function(func, wait) {
  ^

C:\Users\Jaap\AppData\Local\Temp\closure_compiler20120218-2264-1c3koz6:656: WARNING - dangerous use of the global this object
    args = this.tail(arguments, 2);
           ^

C:\Users\Jaap\AppData\Local\Temp\closure_compiler20120218-2264-1c3koz6:662: WARNING - dangerous use of the global this object
  this.soon = function(func) {
  ^

C:\Users\Jaap\AppData\Local\Temp\closure_compiler20120218-2264-1c3koz6:663: WARNING - dangerous use of the global this object
    return this.delay.apply(this, [func, 1].concat(this.tail(arguments)));
           ^

C:\Users\Jaap\AppData\Local\Temp\closure_compiler20120218-2264-1c3koz6:663: WARNING - dangerous use of the global this object
    return this.delay.apply(this, [func, 1].concat(this.tail(arguments)));
                                                   ^

C:\Users\Jaap\AppData\Local\Temp\closure_compiler20120218-2264-1c3koz6:666: WARNING - dangerous use of the global this object
  this.tail = function(array, index) {
  ^

C:\Users\Jaap\AppData\Local\Temp\closure_compiler20120218-2264-1c3koz6:667: WARNING - dangerous use of the global this object
    return Array.prototype.slice.call(array, this.isUndefined(index) ? 1 : index);
                                             ^

C:\Users\Jaap\AppData\Local\Temp\closure_compiler20120218-2264-1c3koz6:717: WARNING - dangerous use of the global this object
  this.entryPoint = function() {
  ^

C:\Users\Jaap\AppData\Local\Temp\closure_compiler20120218-2264-1c3koz6:719: WARNING - dangerous use of the global this object
    this.util.onKeyUp('B', toggleBaseline);
    ^

C:\Users\Jaap\AppData\Local\Temp\closure_compiler20120218-2264-1c3koz6:720: WARNING - dangerous use of the global this object
    return this.util.onKeyUp('T', this.font.getMetrics);
           ^

C:\Users\Jaap\AppData\Local\Temp\closure_compiler20120218-2264-1c3koz6:720: WARNING - dangerous use of the global this object
    return this.util.onKeyUp('T', this.font.getMetrics);
                                  ^

C:\Users\Jaap\AppData\Local\Temp\closure_compiler20120218-2264-1c3koz6:723: WARNING - dangerous use of the global this object
  this.entryPoint();
  ^

0 error(s), 22 warning(s)
'use strict';var m=null;void 0;var t,u,w,y,D,E=[].indexOf||function(a){for(var c=0,d=this.length;c<d;c++)if(c in this&&this[c]===a)return c;return-1};function F(a,c){return function(){return a.apply(c,arguments)}}u=["georgia","arial","verdana"];w=function(a){if(0<=E.call(u,a))return"normal";switch(a[2]){case "i":return"italic";case "o":return"oblique";default:return"normal"}};y=function(a){return 0<=E.call(u,a)?400:100*a[3]};D=this;
t=function(){function a(a){var b,c;this.m=a.m;this.p=a.p;this.k=F(this.k,this);this.w=3;this.R=this.m/2;this.d=document.createElement("canvas");this.f=document.createElement("canvas");this.b=this.d.getContext("2d");this.e=this.f.getContext("2d");this.b.textBaseline=this.e.textBaseline="alphabetic";this.b.textAlign=this.e.textAlign="left";this.b.fillStyle=this.e.fillStyle="#000";b=jaap.h.createElement("div",'<img style="vertical-align: baseline" width="1" height="1" alt="" src="/img/1x1-black.png">bHxp');
this.c=b[0];c=b[1],this.O=c[0];this.c.style.whiteSpace="nowrap";this.c.style.position="absolute";this.c.style.lineHeight=this.w;document.body.insertBefore(this.c,document.body.firstChild);this.d.style.backgroundColor="#fee";this.f.style.backgroundColor="#eef";document.body.insertBefore(this.f,document.body.children[0]);document.body.insertBefore(this.d,this.f)}var c;a.name="Easel";a.prototype=function(){};a.prototype.prototype=D;a.prototype.G=function(a,b){this.b.clearRect(0,0,this.fontSize,this.a);
this.e.clearRect(0,0,this.fontSize,this.a);b&&(this.b.save(),this.b.translate(0,this.a),this.b.scale(1,-1),this.b.translate(0,-this.a));this.b.fillText(a,0,this.a);b&&this.b.restore()};c=function(a){return 1<<Math.floor(Math.log(a-1)/Math.log(2))};a.prototype.M=function(){var a,b,j,e;this.e.drawImage(this.d,0,0);b=c(this.fontSize);for(a=this.fontSize-b;b;)this.e.drawImage(this.d,b,0,a,this.a,0,0,a,this.a),j=[this.e,this.b],this.b=j[0],this.e=j[1],e=[this.f,this.d],this.d=e[0],this.f=e[1],a=b>>=1};
a.prototype.J=function(){var a,b;a=this.b.getImageData(0,0,1,this.a).data;a[a.length-4+3]=255;for(b=3;0===a[b];)b+=4;return(b-3)/4};a.prototype.o=function(a,b){b==m&&(b=!1);this.G(a,b);this.M();return this.J()};a.prototype.K=function(){this.fontSize<this.m||this.a<this.R?this.q=this.r=this.u=this.t=0:(this.t=this.a-this.o("p",!0),this.q=this.a-this.o("b"),this.u=this.a-this.o("x"),this.r=this.a-this.o("H"))};a.prototype.L=function(a,b,c,e){this.fontSize=a;this.c.style.fontSize=""+this.fontSize+"px";
a=(this.w*this.fontSize-this.fontSize)/2;this.d.width=this.f.width=this.fontSize;this.a=this.O.offsetTop+1-a;this.d.height=this.f.height=this.a;this.b.font=this.e.font=""+y(b)+" "+w(b)+" "+this.fontSize+"px "+b;this.K();c.baseline[this.fontSize]=this.a;c.descent[this.fontSize]=this.q;c.ascent[this.fontSize]=this.r;c.ex[this.fontSize]=this.u;c.cap[this.fontSize]=this.t;jaap.h.A(e)};a.prototype.I=function(a,b){var c,e,h,i=this;this.c.style.fontFamily=a;this.c.style.fontStyle=w(a);this.c.style.fontWeight=
y(a);c={baseline:[],ex:[],cap:[],ascent:[],descent:[]};(function(b){var g,l;e=0;g=[];l=function(b){var f,I,p;f=function(){return b(g)};I=function(){++e;return l(b)};p=function(a){g.push(a);return I()};if(e<=i.p)h=new iced.i(p,{parent:m,filename:"B:/Projects/Web/jaapsuter.github.com/master/_coffee/jaap/font.coffee",n:"Easel.getFamilyMetrics"}),i.L(e,a,c,h.defer({l:146})),h.g();else return f()};l(b)})(function(){return b(!0,c)})};a.prototype.k=function(a,b){var c,e,h,i,f,g,l=this;i={minFontSize:this.m,
maxFontSize:this.p,families:a};(function(b){var l,i,h,o;i=a.length;l=0;h=[];o=function(b){var n,q,r;n=function(){return b(h)};q=function(){++l;return o(b)};r=function(a){h.push(a);return q()};if(l<i)e=a[l],function(a){g=new iced.i(a,{parent:m,filename:"B:/Projects/Web/jaapsuter.github.com/master/_coffee/jaap/font.coffee",n:"Easel.getMetrics"});window.v.font.C(e,g.defer({j:function(){return function(a,b){f=a;return c=b}}(),l:158}));g.g()}(r);else return n()};o(b)})(function(){(function(b){if(f)(function(b){var n,
p,o,x;p=a.length;n=0;o=[];x=function(b){var q,r,G;q=function(){return b(o)};r=function(){++n;return x(b)};G=function(a){o.push(a);return r()};if(n<p)e=a[n],function(a){g=new iced.i(a,{parent:m,filename:"B:/Projects/Web/jaapsuter.github.com/master/_coffee/jaap/font.coffee",n:"Easel.getMetrics"});window.v.font.C(e,g.defer({j:function(){return function(a,b){f=a;return c=b}}(),l:162}));g.g()}(function(){(function(a){if(f)(function(a){g=new iced.i(a,{parent:m,filename:"B:/Projects/Web/jaapsuter.github.com/master/_coffee/jaap/font.coffee",
n:"Easel.getMetrics"});l.I(c,g.defer({j:function(){return function(a,b){f=a;return h=b}}(),l:164}));g.g()})(function(){return a(i[c]=f?h:"error obtaining metrics")});else return a()})(G)});else return q()};x(b)})(function(){return b(l.c.parentNode.removeChild(l.c))});else return b()})(function(){return b(f,i)})})};return a}();
this.C=function(a,c){var d,b,j,e,h,i,f,g,l;g=jaap.h.createElement("div","<span>b H x p</span><br><span>b H x p</span>");j=g[0];l=g[1],e=l[0],h=l[2];j.style.cssText="visibility: visible;\nposition: absolute;\ntop: 0;\nleft: 0;\nfont-family: serif;\nfont-size: 137px;\nfont-style: "+w(a)+";\nfont-weight: "+y(a)+";\nline-height: 1;\nwhite-space: nowrap;";h.style.fontFamily=""+a+", serif";document.body.insertBefore(j,document.body.firstChild);d=75;i=2;b=function(a,b){j.parentNode.removeChild(j);return c(a,
b)};f=function(){return e.offsetWidth!==h.offsetWidth?0===i--?b(!0,a):jaap.h.A(f):0===d--?b(!1,a):jaap.h.s(f,40)};f()};
this.k=function(a){var c,d,b,j,e,h,i,f,g,a=["tsn4n","tsi4n"],a=u.concat(a);for(f=0,g=a.length;f<g;f++)b=a[f],0<b.indexOf("inv")&&(a=b);d=new t({m:10,p:64});(function(b){i=new iced.i(b,{parent:m,filename:"B:/Projects/Web/jaapsuter.github.com/master/_coffee/jaap/font.coffee",n:"getMetrics"});d.k(a,i.defer({j:function(){return function(a,b){e=a;return j=b}}(),l:222}));i.g()})(function(){if(e)return c=JSON.stringify({payload:j,browser:"unknown"},m,4),alert(c),window.v.T.send("/ajax/json/type-metrics",
i.defer({j:function(){return function(a,b){e=a;return h=b}}(),l:226}),c),alert("ok: "+e+", resp: "+h)})};var J,K;K=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];J=function(){var a,c,d,b;c=!1;for(d=0,b=K.length;d<b;d++){a=K[d];try{c=a()}catch(j){continue}return c}};
this.send=function(a,c,d){var b;if(b=J()){if(b.open(d?"PUT":"GET",a,!0),d&&b.setRequestHeader("Content-type","application/x-www-form-urlencoded"),b.onreadystatechange=function(){if(4===b.readyState)return 200===b.status||304===b.status?c(!0,req):c(!1)},4!==b.readyState)return b.send(d)}else return c(!1)};var L={}.hasOwnProperty;function M(a,c){function d(){this.constructor=a}for(var b in c)L.call(c,b)&&(a[b]=c[b]);d.prototype=c.prototype;a.prototype=new d;a.D=c.prototype}
(function(a){function c(){return c.D.constructor.apply(this,arguments)}M(c,a);c.name="Derived";return c})(function(){function a(){}a.name="Base";return a}());this.time=function(a){var c;c=new Date;a();return new Date-c};this.P=function(a){return a===+a||"[object Number]"===Object.prototype.toString.call(a)};this.Q=function(a){return"undefined"===typeof a};
this.z=function(a,c){var d=this;window.addEventListener("keydown",function(b){(d.P(a)&&a===b.keyCode||a.toUpperCase()===String.fromCharCode(b.keyCode||b.charCode).toUpperCase())&&c()})};this.createElement=function(a,c){var d;d=document.createElement(a);d.innerHTML=c;return[d,d.children]};this.s=function(a,c){var d;d=this.B(arguments,2);return setTimeout(function(){return a.apply(a,d)},c)};this.A=function(a){return this.s.apply(this,[a,1].concat(this.B(arguments)))};
this.B=function(a,c){return Array.prototype.slice.call(a,this.Q(c)?1:c)};var iced,O,R=[].slice;window.N={i:function(){function a(a){this.F=a;this.count=1;this.S=m}a.prototype.g=function(){if(!--this.count)return this.F(this.S)};a.prototype.defer=function(a){var d=this;++this.count;return function(){var b,j;b=1<=arguments.length?R.call(arguments,0):[];a!=m&&(j=a.j)!=m&&j.apply(m,b);return d.g()}};return a}(),U:function(){return m}};iced=window.iced=window.N;
O=function(){var a;if(a=document.querySelector("#baseline-checkbox"))return a.checked=!a.checked};this.H=function(){top===window&&(this.h.z("B",O),this.h.z("T",this.font.k))};this.H();
