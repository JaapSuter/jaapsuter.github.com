'use strict';var l=void 0,o=!0,s=null,u=!1;
(function(b){var e,d=[].slice;e={i:function(){function b(d){this.I=d;this.count=1;this.S=s}b.prototype.h=function(){if(!--this.count)return this.I(this.S)};b.prototype.defer=function(b){var f=this;++this.count;return function(){var h,i;h=1<=arguments.length?d.call(arguments,0):[];b!=s&&(i=b.j)!=s&&i.apply(s,h);return f.h()}};return b}(),ba:function(){return s}};b.v=e;b.a={p:{},k:{},font:{},keys:{},q:{}}}).call(l,window,function(){window.F==s&&(window.F={});return window.F}());
(function(b,e){var d,f;b.v!=s||(b.v={});f=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];d=function(){var b,d,h,i;d=u;h=0;for(i=f.length;h<i;h++){b=f[h];try{d=b()}catch(e){continue}return d}};e.send=function(b,f,h){var i;if(i=d()){if(i.open(h?"PUT":"GET",b,o),h&&i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.onreadystatechange=
function(){if(4===i.readyState)return 200===i.status||304===i.status?f(o,i.responseText):f(u)},4!==i.readyState)return i.send(h)}else return f(u)}}).call(l,window,function(){var b;window.a==s&&(window.a={});if((b=window.a).q==s)b.q={};return window.a.q}());
(function(b,e){function d(c,b){return function(){return c.apply(b,arguments)}}var f,g,q,h,i,m,j,p,w,c,k,n=[].indexOf||function(c){for(var b=0,v=this.length;b<v;b++)if(b in this&&this[b]===c)return b;return-1};c=function(){};j=b.v;k=b.a;p=k.p;g=k.q;q=k.k;h=["georgia","arial","verdana"];i=function(c){if(0<=n.call(h,c))return"normal";switch(c[2]){case "i":return"italic";case "o":return"oblique";default:return"normal"}};m=function(c){return 0<=n.call(h,c)?400:100*c[3]};f=function(){function c(v){this.o=
v.o;this.s=v.s;this.m=d(this.m,this);this.D=3;this.R=this.o/2;this.e=document.createElement("canvas");this.g=document.createElement("canvas");this.c=this.e.getContext("2d");this.f=this.g.getContext("2d");this.c.textBaseline=this.f.textBaseline="alphabetic";this.c.textAlign=this.f.textAlign="left";this.c.fillStyle=this.f.fillStyle="#000";v=q.create("div",'<img style="vertical-align: baseline" width="1" height="1" alt="" src="/img/1x1-black.png">bHxp');this.d=v[0];this.P=v[1][0];this.d.style.whiteSpace=
"nowrap";this.d.style.position="absolute";this.d.style.lineHeight=this.D;document.body.insertBefore(this.d,document.body.firstChild);this.e.style.backgroundColor="#fee";this.g.style.backgroundColor="#eef";document.body.insertBefore(this.g,document.body.children[0]);document.body.insertBefore(this.e,this.g)}var b;c.U="Easel";c.prototype.J=function(c,b){this.c.clearRect(0,0,this.fontSize,this.b);this.f.clearRect(0,0,this.fontSize,this.b);b&&(this.c.save(),this.c.translate(0,this.b),this.c.scale(1,-1),
this.c.translate(0,-this.b));this.c.fillText(c,0,this.b);b&&this.c.restore()};b=function(c){return 1<<Math.floor(Math.log(c-1)/Math.log(2))};c.prototype.O=function(){var c,d;this.f.drawImage(this.e,0,0);d=b(this.fontSize);for(c=this.fontSize-d;d;)this.f.drawImage(this.e,d,0,c,this.b,0,0,c,this.b),c=[this.f,this.c],this.c=c[0],this.f=c[1],c=[this.g,this.e],this.e=c[0],this.g=c[1],c=d>>=1};c.prototype.L=function(){var c,b;c=this.c.getImageData(0,0,1,this.b).data;c[c.length-4+3]=255;for(b=3;0===c[b];)b+=
4;return(b-3)/4};c.prototype.r=function(c,b){b==s&&(b=u);this.J(c,b);this.O();return this.L()};c.prototype.M=function(){this.fontSize<this.o||this.b<this.R?this.z=this.A=this.C=this.B=0:(this.z=this.b-this.r("b"),this.C=this.b-this.r("x"),this.A=this.b-this.r("H"),this.B=this.b-this.r("p",o))};c.prototype.N=function(c,b,d,r){this.fontSize=c;this.d.style.fontSize=""+this.fontSize+"px";c=(this.D*this.fontSize-this.fontSize)/2;this.e.width=this.g.width=this.fontSize;this.b=this.P.offsetTop+1-c;this.e.height=
this.g.height=this.b;this.c.font=this.f.font=""+m(b)+" "+i(b)+" "+this.fontSize+"px "+b;this.M();d.baseline[this.fontSize]=this.b;d.ascent[this.fontSize]=this.z;d.cap[this.fontSize]=this.A;d.ex[this.fontSize]=this.C;d.descent[this.fontSize]=this.B;p.G(r)};c.prototype.K=function(c,b){var d,r,f,k=this;this.d.style.fontFamily=c;this.d.style.fontStyle=i(c);this.d.style.fontWeight=m(c);d={baseline:[],ex:[],cap:[],ascent:[],descent:[]};(function(b){var i,h;r=0;i=[];h=function(b){var e,g,t;e=function(){return b(i)};
g=function(){++r;return h(b)};t=function(c){i.push(c);return g()};if(r<=k.s)f=new j.i(t,{parent:s,filename:"B:/Projects/Web/jaapsuter.github.com/dev/_coffee/jaap/font.coffee",l:"Easel.getFamilyMetrics"}),k.N(r,c,d,f.defer({n:143})),f.h();else return e()};h(b)})(function(){return b(o,d)})};c.prototype.m=function(c,b){var d,r,i,f,k,h,e=this;f={minFontSize:this.o,maxFontSize:this.s,families:c};(function(b){var i,f,e,g;f=c.length;i=0;e=[];g=function(b){var t,n,m;t=function(){return b(e)};n=function(){++i;
return g(b)};m=function(c){e.push(c);return n()};if(i<f)r=c[i],function(c){h=new j.i(c,{parent:s,filename:"B:/Projects/Web/jaapsuter.github.com/dev/_coffee/jaap/font.coffee",l:"Easel.getMetrics"});w(r,h.defer({j:function(){return function(c,b){k=c;return d=b}}(),n:155}));h.h()}(m);else return t()};g(b)})(function(){(function(b){if(k)(function(b){var g,t,n,m;t=c.length;g=0;n=[];m=function(b){var y,p,q;y=function(){return b(n)};p=function(){++g;return m(b)};q=function(c){n.push(c);return p()};if(g<
t)r=c[g],function(c){h=new j.i(c,{parent:s,filename:"B:/Projects/Web/jaapsuter.github.com/dev/_coffee/jaap/font.coffee",l:"Easel.getMetrics"});w(r,h.defer({j:function(){return function(c,b){k=c;return d=b}}(),n:159}));h.h()}(function(){(function(c){if(k)(function(c){h=new j.i(c,{parent:s,filename:"B:/Projects/Web/jaapsuter.github.com/dev/_coffee/jaap/font.coffee",l:"Easel.getMetrics"});e.K(d,h.defer({j:function(){return function(c,b){k=c;return i=b}}(),n:161}));h.h()})(function(){return c(f[d]=k?
i:"error obtaining metrics")});else return c()})(q)});else return y()};m(b)})(function(){return b(e.d.parentNode.removeChild(e.d))});else return b()})(function(){return b(k,f)})})};return c}();e.ka=w=function(c,b){var d,f,k,h,e,g,j,n;n=q.create("div","<span>b H x p</span><br><span>b H x p</span>");k=n[0];n=n[1];h=n[0];e=n[2];k.style.cssText="visibility: visible;\nposition: absolute;\ntop: 0;\nleft: 0;\nfont-family: serif;\nfont-size: 137px;\nfont-style: "+i(c)+";\nfont-weight: "+m(c)+";\nline-height: 1;\nwhite-space: nowrap;";
e.style.fontFamily=""+c+", serif";document.body.insertBefore(k,document.body.firstChild);d=75;g=2;f=function(c,d){k.parentNode.removeChild(k);return b(c,d)};j=function(){return h.offsetWidth!==e.offsetWidth?0===g--?f(o,c):p.G(j):0===d--?f(u,c):p.u(40,j)};return j()};e.m=function(b){var d,k,i,e,n,m,p,b="tan2n,tan4c,tan4n,tan7n,tao4n,tmn4n,tsi4n,tsi4n-smcp,tsi4n-tnum-lnum,tsi7n,tsn4n,tsn4n-smcp,tsn4n-tnum-lnum,tsn7n,pan2n,pan4n,pan4n-smcp,pan7n,pan7n-smcp,psi4n,psi7n,psn4n,psn7n".split(","),b=h.concat(b),
b=function(){var c,d,k;k=[];c=0;for(d=b.length;c<d;c++)i=b[c],0>i.indexOf("inv")&&k.push(i);return k}(),b=["tsn4n"];k=new f({o:23,s:25});(function(c){p=new j.i(c,{parent:s,filename:"B:/Projects/Web/jaapsuter.github.com/dev/_coffee/jaap/font.coffee",l:"getMetrics"});k.m(b,p.defer({j:function(){return function(c,b){n=c;return e=b}}(),n:244}));p.h()})(function(){if(n)d=JSON.stringify({payload:e,browser:"unknown"},s,4),function(c){p=new j.i(c,{parent:s,filename:"B:/Projects/Web/jaapsuter.github.com/dev/_coffee/jaap/font.coffee",
l:"getMetrics"});g.send("/ajax/json/type-metrics",p.defer({j:function(){return function(c,b){n=c;return m=b}}(),n:247}),d);p.h()}(function(){return c(alert("ok: "+n+", resp: "+m))});else return c()})}}).call(l,window,function(){var b;window.a==s&&(window.a={});if((b=window.a).font==s)b.font={};return window.a.font}());
(function(b,e){e.time=function(b){var f;f=new Date;b();return new Date-f};e.ca=function(b){return b===+b||"[object Number]"===Object.prototype.toString.call(b)};e.Q=function(b){return"undefined"===typeof b};e.u=function(b,f){var e;e=this.H(arguments,2);return setTimeout(function(){return f.apply(f,e)},b)};e.G=function(b){return this.u.apply(this,[1,b].concat(this.H(arguments)))};e.H=function(b,f){return Array.prototype.slice.call(b,this.Q(f)?1:f)}}).call(l,window,function(){var b;window.a==s&&(window.a=
{});if((b=window.a).p==s)b.p={};return window.a.p}());
(function(b,e){var d,f,g,q,h,i,m,j,p={}.hasOwnProperty,w=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};f=function(c,b){var d,f,e,g,j,c=c.replace(/\s/g,"");f=c.split(",");""===f[f.length-1]&&(f[f.length-2]+=",");d=0;for(j=[];d<f.length;){g=[];c=f[d].split("+");if(1<c.length){g=c.slice(0,c.length-1);for(e=0;e<g.length;)g[e]=h[g[e]],e++;c=[c[c.length-1]]}c=c[0];c=q[c]||c.toUpperCase().charCodeAt(0);c in i||(i[c]=[]);i[c].push({ga:f[d],method:b,
key:f[d],t:g});j.push(d++)}return j};f.filter=function(c){c=(c.target||c.srcElement).tagName;return!("INPUT"===c||"SELECT"===c||"TEXTAREA"===c)};d=function(c,b,d){c.addEventListener?c.addEventListener(b,d,u):c.attachEvent&&c.attachEvent("on"+b,function(){return d(window.event)})};i={};j={16:u,18:u,17:u,91:u};h={shift:16,alt:18,da:18,X:17,W:91};for(g=m=1;20>m;g=++m)h["f"+g]=111+g;q={V:8,ia:9,clear:12,$:13,"return":13,aa:27,escape:27,ha:32,left:37,ja:38,right:39,Z:40,Y:46,"delete":46,home:36,end:35,
fa:33,ea:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220};for(g in h)p.call(h,g)&&(f[g]=u);d(document,"keydown",function(c){var b,d,e,g,m,q,x;g=c.keyCode;if(93===g||224===g)g=91;if(g in j)for(e in j[g]=o,h)h[e]===g&&(f[e]=o);else if(f.filter.call(this,c)&&g in i){d=0;for(x=[];d<i[g].length;){b=i[g][d];m=0<b.t.length;for(e in j)if(p.call(j,e)&&(!j[e]&&0<=w.call(b.t,+e)||j[e]&&(q=!+e,0<=w.call(b.t,q))))m=u;if((0===b.t.length&&!j[16]&&!j[18]&&!j[17]&&!j[91]||
m)&&b.method(c,b)===u)c.preventDefault?c.preventDefault():c.returnValue=u,c.stopPropagation&&c.stopPropagation(),c.cancelBubble&&(c.cancelBubble=o);x.push(d++)}return x}});d(document,"keyup",function(c){var b,c=c.keyCode;if(93===c||224===c)c=91;if(c in j)for(b in j[c]=u,h)h[b]===c&&(f[b]=u)});d(window,"focus",function(){for(var c in j)j[c]=u;for(c in h)f[c]=u});e.w=f}).call(l,window,function(){var b;window.a==s&&(window.a={});if((b=window.a).keys==s)b.keys={};return window.a.keys}());
(function(b,e){e.create=function(b,f){var e;e=document.createElement(b);e.innerHTML=f;return[e,e.children]};e.T=function(){var b=document.body;return 0<=b.className.indexOf("baseline")?b.className=b.className.replace(/(?:^|\s)baseline(?!\S)/,""):b.className+=" baseline"}}).call(l,window,function(){var b;window.a==s&&(window.a={});if((b=window.a).k==s)b.k={};return window.a.k}());
(function(b){var e,d,f,g,q,h,b=b.a;h=b.p;d=b.k;g=b.keys;f=b.font;q=function(){return d.T()};e=function(){var b,d,e;b=document.body;e=parseFloat(window.getComputedStyle(b).lineHeight);d=function(b){var d,c,f;f={fontSize:"0",lineHeight:"0"};(d=document.querySelector(b))&&(f=window.getComputedStyle(d));c=parseFloat(f.fontSize);f=parseFloat(f.lineHeight);d=d.getBoundingClientRect().height;return""+c+"/"+f+("html"===b||"body"===b?"":" "+d+" / "+e+" = "+d/e)+": "+b+"<br/>"};return document.querySelector("#dimensions").innerHTML=
""+d("html")+"\n"+d("body")+"\n"+d("p")+"\n"+d("h1")+"\n"+d("h2")+"\n"+d("h3")+"\n"+d(".small")+"\nviewport: "+window.innerWidth+"\u00d7"+window.innerHeight+", "+window.orientation+"<br/>\nbody:     "+b.offsetWidth+"\u00d7"+b.offsetWidth};(function(){var b;if(top===window)return g.w("b",q),g.w("shift+t",f.m),g.w("d",e),b=function(){e();return h.u(300,b)}})()}).call(l,window,function(){window.a==s&&(window.a={});return window.a}());
