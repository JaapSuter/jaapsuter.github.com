'use strict';var m=void 0,p=!0,q=null,u=!1;
(function(d){var e,i=[].slice;e={i:function(){function f(f){this.I=f;this.count=1;this.S=q}f.prototype.h=function(){if(!--this.count)return this.I(this.S)};f.prototype.defer=function(f){var b=this;++this.count;return function(){var h,g;h=1<=arguments.length?i.call(arguments,0):[];f!=q&&(g=f.j)!=q&&g.apply(q,h);return b.h()}};return f}(),ca:function(){return q}};d.w=e;d.a={p:{},k:{},font:{},keys:{},q:{}}}).call(m,window,function(){window.F==q&&(window.F={});return window.F}());
(function(d,e){var i,f;d.w!=q||(d.w={});f=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];i=function(){var d,b,h,g;b=u;h=0;for(g=f.length;h<g;h++){d=f[h];try{b=d()}catch(i){continue}return b}};e.send=function(f,b,h){var g;if(g=i()){if(g.open(h?"PUT":"GET",f,p),h&&g.setRequestHeader("Content-type","application/x-www-form-urlencoded"),g.onreadystatechange=
function(){if(4===g.readyState)return 200===g.status||304===g.status?b(p,g.responseText):b(u)},4!==g.readyState)return g.send(h)}else return b(u)}}).call(m,window,function(){var d;window.a==q&&(window.a={});if((d=window.a).q==q)d.q={};return window.a.q}());
(function(d,e){function i(b,c){return function(){return b.apply(c,arguments)}}var f,k,b,h,g,j,l,s,t,c,n,o=[].indexOf||function(b){for(var c=0,v=this.length;c<v;c++)if(c in this&&this[c]===b)return c;return-1};c=function(){};l=d.w;n=d.a;s=n.p;k=n.q;b=n.k;h=["georgia","arial","verdana"];g=function(b){if(0<=o.call(h,b))return"normal";switch(b[2]){case "i":return"italic";case "o":return"oblique";default:return"normal"}};j=function(b){return 0<=o.call(h,b)?400:100*b[3]};f=function(){function c(v){this.o=
v.o;this.s=v.s;this.m=i(this.m,this);this.D=3;this.R=this.o/2;this.e=document.createElement("canvas");this.g=document.createElement("canvas");this.c=this.e.getContext("2d");this.f=this.g.getContext("2d");this.c.textBaseline=this.f.textBaseline="alphabetic";this.c.textAlign=this.f.textAlign="left";this.c.fillStyle=this.f.fillStyle="#000";v=b.create("div",'<img style="vertical-align: baseline" width="1" height="1" alt="" src="/img/1x1-black.png">bHxp');this.d=v[0];this.P=v[1][0];this.d.style.whiteSpace=
"nowrap";this.d.style.position="absolute";this.d.style.lineHeight=this.D;document.body.insertBefore(this.d,document.body.firstChild);this.e.style.backgroundColor="#fee";this.g.style.backgroundColor="#eef";document.body.insertBefore(this.g,document.body.children[0]);document.body.insertBefore(this.e,this.g)}var h;c.V="Easel";c.prototype.J=function(c,b){this.c.clearRect(0,0,this.fontSize,this.b);this.f.clearRect(0,0,this.fontSize,this.b);b&&(this.c.save(),this.c.translate(0,this.b),this.c.scale(1,-1),
this.c.translate(0,-this.b));this.c.fillText(c,0,this.b);b&&this.c.restore()};h=function(c){return 1<<Math.floor(Math.log(c-1)/Math.log(2))};c.prototype.O=function(){var c,b;this.f.drawImage(this.e,0,0);b=h(this.fontSize);for(c=this.fontSize-b;b;)this.f.drawImage(this.e,b,0,c,this.b,0,0,c,this.b),c=[this.f,this.c],this.c=c[0],this.f=c[1],c=[this.g,this.e],this.e=c[0],this.g=c[1],c=b>>=1};c.prototype.L=function(){var c,b;c=this.c.getImageData(0,0,1,this.b).data;c[c.length-4+3]=255;for(b=3;0===c[b];)b+=
4;return(b-3)/4};c.prototype.r=function(c,b){b==q&&(b=u);this.J(c,b);this.O();return this.L()};c.prototype.M=function(){this.fontSize<this.o||this.b<this.R?this.z=this.A=this.C=this.B=0:(this.z=this.b-this.r("b"),this.C=this.b-this.r("x"),this.A=this.b-this.r("H"),this.B=this.b-this.r("p",p))};c.prototype.N=function(c,b,h,n){this.fontSize=c;this.d.style.fontSize=""+this.fontSize+"px";c=(this.D*this.fontSize-this.fontSize)/2;this.e.width=this.g.width=this.fontSize;this.b=this.P.offsetTop+1-c;this.e.height=
this.g.height=this.b;this.c.font=this.f.font=""+j(b)+" "+g(b)+" "+this.fontSize+"px "+b;this.M();h.baseline[this.fontSize]=this.b;h.ascent[this.fontSize]=this.z;h.cap[this.fontSize]=this.A;h.ex[this.fontSize]=this.C;h.descent[this.fontSize]=this.B;s.G(n)};c.prototype.K=function(c,b){var h,n,f,r=this;this.d.style.fontFamily=c;this.d.style.fontStyle=g(c);this.d.style.fontWeight=j(c);h={baseline:[],ex:[],cap:[],ascent:[],descent:[]};(function(b){var g,d;n=0;g=[];d=function(b){var i,j,o;i=function(){return b(g)};
j=function(){++n;return d(b)};o=function(c){g.push(c);return j()};if(n<=r.s)f=new l.i(o,{parent:q,filename:"B:/Projects/Web/jaapsuter.github.com/dev/_coffee/jaap/font.coffee",l:"Easel.getFamilyMetrics"}),r.N(n,c,h,f.defer({n:143})),f.h();else return i()};d(b)})(function(){return b(p,h)})};c.prototype.m=function(c,b){var h,g,n,f,r,d,i=this;f={minFontSize:this.o,maxFontSize:this.s,families:c};(function(b){var n,f,i,j;f=c.length;n=0;i=[];j=function(b){var o,w,e;o=function(){return b(i)};w=function(){++n;
return j(b)};e=function(c){i.push(c);return w()};if(n<f)g=c[n],function(c){d=new l.i(c,{parent:q,filename:"B:/Projects/Web/jaapsuter.github.com/dev/_coffee/jaap/font.coffee",l:"Easel.getMetrics"});t(g,d.defer({j:function(){return function(c,b){r=c;return h=b}}(),n:155}));d.h()}(e);else return o()};j(b)})(function(){(function(b){if(r)(function(b){var j,o,w,e;o=c.length;j=0;w=[];e=function(b){var k,s,y;k=function(){return b(w)};s=function(){++j;return e(b)};y=function(c){w.push(c);return s()};if(j<
o)g=c[j],function(c){d=new l.i(c,{parent:q,filename:"B:/Projects/Web/jaapsuter.github.com/dev/_coffee/jaap/font.coffee",l:"Easel.getMetrics"});t(g,d.defer({j:function(){return function(c,b){r=c;return h=b}}(),n:159}));d.h()}(function(){(function(c){if(r)(function(c){d=new l.i(c,{parent:q,filename:"B:/Projects/Web/jaapsuter.github.com/dev/_coffee/jaap/font.coffee",l:"Easel.getMetrics"});i.K(h,d.defer({j:function(){return function(c,b){r=c;return n=b}}(),n:161}));d.h()})(function(){return c(f[h]=r?
n:"error obtaining metrics")});else return c()})(y)});else return k()};e(b)})(function(){return b(i.d.parentNode.removeChild(i.d))});else return b()})(function(){return b(r,f)})})};return c}();e.na=t=function(c,h){var n,f,d,i,l,o,e,k;k=b.create("div","<span>b H x p</span><br><span>b H x p</span>");d=k[0];k=k[1];i=k[0];l=k[2];d.style.cssText="visibility: visible;\nposition: absolute;\ntop: 0;\nleft: 0;\nfont-family: serif;\nfont-size: 137px;\nfont-style: "+g(c)+";\nfont-weight: "+j(c)+";\nline-height: 1;\nwhite-space: nowrap;";
l.style.fontFamily=""+c+", serif";document.body.insertBefore(d,document.body.firstChild);n=75;o=2;f=function(c,b){d.parentNode.removeChild(d);return h(c,b)};e=function(){return i.offsetWidth!==l.offsetWidth?0===o--?f(p,c):s.G(e):0===n--?f(u,c):s.v(40,e)};return e()};e.m=function(b){var g,n,d,i,j,o,e,b="tan2n,tan4c,tan4n,tan7n,tao4n,tmn4n,tsi4n,tsi4n-smcp,tsi4n-tnum-lnum,tsi7n,tsn4n,tsn4n-smcp,tsn4n-tnum-lnum,tsn7n,pan2n,pan4n,pan4n-smcp,pan7n,pan7n-smcp,psi4n,psi7n,psn4n,psn7n".split(","),b=h.concat(b),
b=function(){var c,h,g;g=[];c=0;for(h=b.length;c<h;c++)d=b[c],0>d.indexOf("inv")&&g.push(d);return g}();n=new f({o:8,s:213});(function(c){e=new l.i(c,{parent:q,filename:"B:/Projects/Web/jaapsuter.github.com/dev/_coffee/jaap/font.coffee",l:"getMetrics"});n.m(b,e.defer({j:function(){return function(c,b){j=c;return i=b}}(),n:244}));e.h()})(function(){if(j)g=JSON.stringify({payload:i,browser:"unknown"},q,4),function(c){e=new l.i(c,{parent:q,filename:"B:/Projects/Web/jaapsuter.github.com/dev/_coffee/jaap/font.coffee",
l:"getMetrics"});k.send("/ajax/json/type-metrics",e.defer({j:function(){return function(c,b){j=c;return o=b}}(),n:247}),g);e.h()}(function(){return c(alert("ok: "+j+", resp: "+o))});else return c()})}}).call(m,window,function(){var d;window.a==q&&(window.a={});if((d=window.a).font==q)d.font={};return window.a.font}());
(function(d,e){e.time=function(d){var f;f=new Date;d();return new Date-f};e.da=function(d){return d===+d||"[object Number]"===Object.prototype.toString.call(d)};e.Q=function(d){return"undefined"===typeof d};e.v=function(d,f){var e;e=this.H(arguments,2);return setTimeout(function(){return f.apply(f,e)},d)};e.G=function(d){return this.v.apply(this,[1,d].concat(this.H(arguments)))};e.H=function(d,f){return Array.prototype.slice.call(d,this.Q(f)?1:f)}}).call(m,window,function(){var d;window.a==q&&(window.a=
{});if((d=window.a).p==q)d.p={};return window.a.p}());
(function(d,e){var i,f,k,b,h,g,j,l,s={}.hasOwnProperty,t=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};f=function(c,d){var f,e,j,l,i,c=c.replace(/\s/g,"");e=c.split(",");""===e[e.length-1]&&(e[e.length-2]+=",");f=0;for(i=[];f<e.length;){l=[];c=e[f].split("+");if(1<c.length){l=c.slice(0,c.length-1);for(j=0;j<l.length;)l[j]=h[l[j]],j++;c=[c[c.length-1]]}c=c[0];c=b[c]||c.toUpperCase().charCodeAt(0);c in g||(g[c]=[]);g[c].push({ia:e[f],method:d,
key:e[f],t:l});i.push(f++)}return i};f.filter=function(c){c=(c.target||c.srcElement).tagName;return!("INPUT"===c||"SELECT"===c||"TEXTAREA"===c)};i=function(c,b,d){c.addEventListener?c.addEventListener(b,d,u):c.attachEvent&&c.attachEvent("on"+b,function(){return d(window.event)})};g={};l={16:u,18:u,17:u,91:u};h={shift:16,alt:18,fa:18,Y:17,X:91};for(k=j=1;20>j;k=++j)h["f"+k]=111+k;b={W:8,ka:9,clear:12,aa:13,"return":13,ba:27,escape:27,ja:32,left:37,ma:38,right:39,$:40,Z:46,"delete":46,home:36,end:35,
ha:33,ga:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220};for(k in h)s.call(h,k)&&(f[k]=u);i(document,"keydown",function(c){var b,d,e,j,i,k,x;j=c.keyCode;if(93===j||224===j)j=91;if(j in l)for(e in l[j]=p,h)h[e]===j&&(f[e]=p);else if(f.filter.call(this,c)&&j in g){d=0;for(x=[];d<g[j].length;){b=g[j][d];i=0<b.t.length;for(e in l)if(s.call(l,e)&&(!l[e]&&0<=t.call(b.t,+e)||l[e]&&(k=!+e,0<=t.call(b.t,k))))i=u;if((0===b.t.length&&!l[16]&&!l[18]&&!l[17]&&!l[91]||
i)&&b.method(c,b)===u)c.preventDefault?c.preventDefault():c.returnValue=u,c.stopPropagation&&c.stopPropagation(),c.cancelBubble&&(c.cancelBubble=p);x.push(d++)}return x}});i(document,"keyup",function(c){var b,c=c.keyCode;if(93===c||224===c)c=91;if(c in l)for(b in l[c]=u,h)h[b]===c&&(f[b]=u)});i(window,"focus",function(){for(var b in l)l[b]=u;for(b in h)f[b]=u});e.u=f}).call(m,window,function(){var d;window.a==q&&(window.a={});if((d=window.a).keys==q)d.keys={};return window.a.keys}());
(function(d,e){var i,f,k=[].slice;e.create=function(b,d){var g;g=document.createElement(b);g.innerHTML=d;return[g,g.children]};e.T=function(){var b=document.body;return 0<=b.className.indexOf("baseline")?b.className=b.className.replace(/(?:^|\s)baseline(?!\S)/,""):b.className+=" baseline"};e.U=function(){var b,d,g,e,f,k,t;if(g=document.documentElement.matchesSelector||document.documentElement.webkitMatchesSelector||document.documentElement.mozMatchesSelector||document.documentElement.ea||document.documentElement.msMatchesSelector){e=
i.apply(q,document.styleSheets);t=document.querySelectorAll("*");f=0;for(k=t.length;f<k;f++){b=t[f];for(var c=m,n=m,o=m,o=[],c=0,n=e.length;c<n;c++)d=e[c],g.call(b,d)&&o.push(d);d=o;2<d.length&&console.log(""+b+":\n   "+d.join("\n"))}}};i=function(){var b,d,e,f;e=1<=arguments.length?k.call(arguments,0):[];return(f=[]).concat.apply(f,function(){var f,j,i,c;c=[];f=0;for(j=e.length;f<j;f++)d=e[f],c.push((i=[]).concat.apply(i,function(){var c,e,f,g;f=d.cssRules;g=[];c=0;for(e=f.length;c<e;c++)b=f[c],
1===b.type&&g.push(b.selectorText.split(","));return g}()));return c}())};f=function(b){for(var d,f,e,i,b=b.replace("*",""),b=b.replace(/"[^"]*"/g,""),b=b.replace(/'[^"]*'/g,""),b=b.replace(/\[[^\]]*\]/g,"[]"),b=b.replace(/[>+~]/g," ");0<=b.indexOf("(");)b=b.replace(/\([^\)]*?\)/,"");b=b.replace(/:(first-child|last-child|link|visited|hover|active|focus|lang)/g,".pseudo-class");b=b.replace(/::?[\w-]+/g," pseudo-elem");f=((d=b.match(/#[\w-]+/g))!=q?d.length:m)||0;d=((e=b.match(/\.[\w-]+|\[\]/g))!=q?
e.length:m)||0;b=((i=b.match(/(^|\s)[\w_-]+/g))!=q?i.length:m)||0;return 1E6*f+1E3*d+b};window.la=function(){var b;b=function(b,d){if(d!==f(b))debugger};b("*",0);b("li",1);b("li:first-line",2);b("ul li",2);b("ul ol+li",3);b("h1 + *[rel=up]",1001);b("ul ol li.red",1003);b("li.red.level",2001);b("body::before",2);b("div p",2);b(".sith",1E3);b("div p.sith",1002);b("##sith",1E6);b("body ##darkside .sith p",1001002);b("p:has( a[href] )",2);return b("body##top:lang(fr-ca) div.alert",1002002)}}).call(m,
window,function(){var d;window.a==q&&(window.a={});if((d=window.a).k==q)d.k={};return window.a.k}());
(function(d){var e,i,f,k,b,h,d=d.a;h=d.p;i=d.k;k=d.keys;f=d.font;b=function(){return i.T()};e=function(){var b,d,f;b=document.body;f=parseFloat(window.getComputedStyle(b).lineHeight);d=function(b){var d,c,e;e={fontSize:"0",lineHeight:"0"};(d=document.querySelector(b))&&(e=window.getComputedStyle(d));c=parseFloat(e.fontSize);e=parseFloat(e.lineHeight);d=d.getBoundingClientRect().height;return""+c+"/"+e+("html"===b||"body"===b?"":" "+d+" / "+f+" = "+d/f)+": "+b+"<br/>"};return document.querySelector("#dimensions").innerHTML=
""+d("html")+"\n"+d("body")+"\n"+d("p")+"\n"+d("h1")+"\n"+d("h2")+"\n"+d("h3")+"\n"+d(".small")+"\nviewport: "+window.innerWidth+"\u00d7"+window.innerHeight+", "+window.orientation+"<br/>\nbody:     "+b.offsetWidth+"\u00d7"+b.offsetWidth};(function(){var d;if(top===window)return k.u("b",b),k.u("shift+t",f.m),k.u("shift+d",e),k.u("shift+c",i.U),d=function(){e();return h.v(300,d)}})()}).call(m,window,function(){window.a==q&&(window.a={});return window.a}());
